<!DOCTYPE html>
<html>
<head>
<title>DBJ*Q&trade; Test</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript" ></script>
<script src="dbj.q.js" type="text/javascript" ></script>
<style type="text/css" >
    html { width:100%; height:100%; margin:0px; padding:5px; 
           font:larger/1.1 courier new,monospace ;
         } 
div.okvir      { border:1px solid black; padding:4px; }         
div#left       { width: 45%; height:80%; float:left; margin:5px; }
div#right      { width: 45%; height:80%; float:right; margin:5px; }
div textarea   { width:97%; height:97%; margin:1%; font: inherit; }
span#container { position:absolute; bottom:1%; left:1%; width:99%; min-height:3cm; 
                background-color:Transparent; }
</style>
</head>
<body>
<div id="left" class="okvir">
<textarea id="test" cols="80" rows="24" >

<div style="background:gold;width:10cm;height:3cm;border:1mm solid;" src="X"> 
<ol style="whatever wherever" >
<li id="LI1" >Some text <font size="3"><u>here</u></font></li>
<li id="LI2" ><b>Some</b> text over there</li>
<li id="LI3" ><table border=2 ><tr><th>A</th><th>B</th><th>C</th></tr><tr><td>1</td><td>2</td><td>3</td></tr></table></li>
</ol>
</div>

</textarea>
</div>
<div id="right" class="okvir">
<textarea id="code" cols="80" rows="24" >
// for every 'th' inside every table which has a border=2
// check it if contains letter A
// if it does put the result in an list to be returned
// CTRL+ENTER to evaluate
a = Q.M(/A/,"table[border='2'] th")
a[0].node + ", contains: " + a[0].match

</textarea>
</div>
<span id="container" ></span>
</body>
<script type="text/javascript">
    $(function() {
        //
        var $code = $(Q.ID("code"));
        $code.keydown(function(E) {
            if (E.ctrlKey)
                if (13 === E.keyCode) {
                $("#container").html($("#test").val());
                var result;
                try {
                    result = "\n/*\n" + eval($code.val()) + "\n*/\n";
                } catch (x) {
                    result = "\n/*\n" + x + "\n*/\n";
                }
                $code.val($code.val() + result);
            }
        });
        //
        $(window).unload(function() {
            try { jQuery('*').unbind(); } catch (x) { }
        });
    });
</script>
</html>